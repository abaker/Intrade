package org.intrade.trading

import org.scalatest.FunSuite

class LoginTest extends FunSuite {
  test("should process login") {
    val node =
      <tsResponse exchange="intrade" requestOp="getLogin" resultCode="0"
                  timestamp="1319901742507" timetaken="480">
        <username>baker.alex</username>
        <faildesc>Ok</faildesc>
        <sessionData>6d3b9a06c44e2e04668bcaae61d61ce3ZACEF000574000A62615B65722E616C6578Z371906B53E844A41CB6C2F7087B920A2B6430DAA148CF8BD7417B35C6C64BA613F8F212C1FF5ACB3CB5B2E0DBC68F1CCC6740D4DE86FEEC3F1EA8365A3E31001B42885EA01D3F75E31A4FBBCEC95C408599CA45DE0DDD7257AEEAAF711694365F3B4CBF37980451A85F39E810840C0C7846CE9173311C0741FB35EF48A1829FA8D60B330C169BD39684D3BDCFC20AD36AE8B7CA698DAF2F9D8939E8378C7867757417473324CD77F531D18E9DFBFE234BA7CE6DF7C23EDEF4C65BD07A850F3940D58B0B1D97C5D290C8497335DC1855E24EC3E8DFD0FAF88B1E3EA119D64A91F7CF3EF83C9386D68A47F650EC8321186C3A669994FB5E4FEF5D1861057BD9A818CD9597043F59D2FC953F277B9897E511BC8D407A28D8D8762C46C71D78A4C4474548B9D3C2719E8</sessionData>
      </tsResponse>

    val login = Login(node)

    expect("intrade") {
      login.exchange
    }

    expect("baker.alex") {
      login.username
    }
  }
}