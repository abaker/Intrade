package org.intrade.trading

import org.scalatest.FunSuite

class BalanceTest extends FunSuite {
  test("should process balance") {
    val elem =
      <tsResponse timetaken="408" timestamp="1318942053183" resultCode="0" requestOp="getBalance">
        <ccy>USD</ccy>
        <available>66.22</available>
        <frozen>47.34</frozen>
        <faildesc>Ok</faildesc>
        <sessionData>16946e4d7bd93cfb36309df29ffb8cbfZACED000574000A62616B65722E616C6578ZBD484FEB7A946E3933B1C850250BE18A977BB705C836806D299B3DC35E553511B421F472B1A608482AB1F6B89FB7F42AA47254A8442B00C142A206558BA611F022AC06B504B8CD067AD90C9F4EAE89EDC20A2CDC2A69680819921F46D0772BBAAF317DB7A104423E8339500597FEE6A9FA229567E935B958693BACEA617BFAB4C3765DE31ACFFB7C0D2112B363593A036DE5F70C05BB14B92C75D72FC432138C2D4DBA1FB827FA1B08CBB0C605F7BBD7C43EE021CB03EABF89296AE892E0E1D7FDA85D4E42151F18BB61D3A07C7671853C28116C71A1A759EC3E4733D3BE68437AE5BB8C20313DF35ED98D8C0C40BD20ECD1CE80AD9610903B2DBD61BE93B6DB4B3F49E8F9CCBACFA0DCA2F05D25358022AF0B399CCBB202D7909BE3723F33F6F2E7DCDB1FC389BF</sessionData>
      </tsResponse>

    val balance = Balance(elem)

    expect("USD") {
      balance.ccy
    }

    expect(BigDecimal(66.22)) {
      balance.available
    }

    expect(BigDecimal(47.34)) {
      balance.frozen
    }
  }
}