package org.intrade.trading

import org.scalatest.FunSuite

class CancelConfirmationTest extends FunSuite {
  test("Should process cancel confirmation") {
    val node =
      <tsResponse requestOp="getCancelAllInContract" resultCode="0" timestamp="1320180078623" timetaken="320">
        <isEndOfDay>false</isEndOfDay>
        <didCancel>true</didCancel>
          <orderCancelList/>
        <faildesc></faildesc>
        <sessionData>487f633gaf8d16f3a0167c2c35633e88ZACED000574000A62616B65722E616C6578Z47BEB6075C6D5BECE1F3A0F329491B97185D82322A40C2BC4139EFA38CCDCCF6EF210360387A964EB40ED23A1A626F203759E9899CAD8E5AE17EA84F60F29ED44AD54C6762A1DC6FBCA6E246A7AD916F31E761F56279BB5C6B4C53D6DE4BFAE6C402B78055661858404CC7E578A4A687D64FC852E35036578CB31EF5FC762F107E671B1AA20C2D5AAF5148671FA987AFB11044882AFAB2D3475E4E9AAEBA1BEB515E5450DE0EC035FC427FD6AF3417B3D861F82BDDEF651E64E0E04216D4E9F3BDCBCF1C88B22B645C8B0574E6C4EE037C30360B210BF9078379F3F58DEADB11FE009DA156FAB3F1F16E61F3AE853B4E618CE9E1BD73D8A4912A2E41872FA47F27DB3B5ECF2A69E8A4CF7321B69A0A40F0E1F9EB14817EF81011E0224D4E6E7979E7CFC28B5926CF</sessionData>
      </tsResponse>

    val conf = CancelConfirmation(node)

    expect(false) {
      conf.isEndOfDay
    }

    expect(true) {
      conf.didCancel
    }
  }

}